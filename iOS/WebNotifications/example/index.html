<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  </head>
  <body>
    <script type="text/javascript" src="cordova.ios.js"></script>
    <script type="text/javascript" src="webnotifications.js"></script>
    <script type="text/javascript">

function log(msg) {
  var d = new Date();
  var s = (d.getHours() * 60 + d.getMinutes()) * 60 + d.getSeconds();
  document.querySelector("input").insertAdjacentHTML("afterend", "<div>" + s + " - " + msg + "</div>");
}

function notify(title, body, tag, delay) {
  new Notification(title, {
    body: body,
    tag: tag,
    delay: delay,
    onclick: function(tag) { log("onclick: " + tag); },
    onclose: function(tag) { log("onclose: " + tag); },
    onerror: function(tag) { log("onerror: " + tag); },
    onshow: function(tag) { log("onshow: " + tag); },
  });
}

window.onload = function() {
  document.addEventListener('deviceready', function () {
  });

  document.addEventListener('resign', function () {
      notify('Resign', 'Cruel World', '#resign', 5);
  });

  document.addEventListener('pause', function () {
      notify('Pause', 'Cruel World', '#pause', 5);
  });
}
  </script>

  <input type=button onclick="notify('Hello', 'World', '#button', 0);" value="new Notification()"/>

</body>
</html>
